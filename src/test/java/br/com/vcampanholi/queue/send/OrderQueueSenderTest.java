package br.com.vcampanholi.queue.send;import org.junit.jupiter.api.Test;import org.junit.jupiter.api.extension.ExtendWith;import org.mockito.InjectMocks;import org.mockito.Mock;import org.springframework.amqp.core.Queue;import org.springframework.amqp.rabbit.core.RabbitTemplate;import org.springframework.test.context.junit.jupiter.SpringExtension;import static org.junit.jupiter.api.Assertions.assertAll;import static org.mockito.Mockito.verify;import static org.mockito.Mockito.when;@ExtendWith(SpringExtension.class)class OrderQueueSenderTest {    @Mock    private RabbitTemplate rabbitTemplate;    @Mock    private Queue queue;    @InjectMocks    private OrderQueueSender orderQueueSender;    @Test    void deveVerificarEnvioDaMensagem() {        when(queue.getName()).thenReturn("queue");        assertAll(() -> orderQueueSender.send("{Message: OK}"));        verify(rabbitTemplate).convertAndSend("queue", "{Message: OK}");    }    @Test    void deveVerificarEnvioDaMensagemNula() {        when(queue.getName()).thenReturn("queue");        assertAll(() -> orderQueueSender.send(null));    }}